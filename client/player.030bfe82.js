import{S as t,i as e,s as a,e as o,t as n,c as l,b as r,d as s,f as c,h as i,I as f,k as d,l as h,n as m,a as p,o as u,g,p as $,q as v,y as b,w as k,F as w,v as E,x as T,J as y,K as N,E as I,z as j,G as x}from"./index.efa1284c.js";import B from"./token.164100ac.js";import D from"./addToken.6e8ba729.js";import V from"./tabLink.abfaed1c.js";function H(t,e,a){const o=t.slice();return o[15]=e[a],o}function L(t){let e,a,p;return{c(){e=o("button"),a=n("-1"),this.h()},l(t){e=l(t,"BUTTON",{class:!0});var o=r(e);a=s(o,"-1"),o.forEach(c),this.h()},h(){i(e,"class","btn btn-dark"),p=f(e,"click",t[5])},m(t,o){d(t,e,o),h(e,a)},p:m,d(t){t&&c(e),p()}}}function O(t){let e,a,n,s,f=void 0!==t[1].filter(t[14])[0]&&null!=t[3].power,h=t[1],m=[];for(let e=0;e<h.length;e+=1)m[e]=S(H(t,h,e));const u=t=>k(m[t],1,1,()=>{m[t]=null});let $=f&&X(t);return{c(){e=o("div");for(let t=0;t<m.length;t+=1)m[t].c();a=p(),$&&$.c(),n=j(),this.h()},l(t){e=l(t,"DIV",{class:!0});var o=r(e);for(let t=0;t<m.length;t+=1)m[t].l(o);o.forEach(c),a=g(t),$&&$.l(t),n=j(),this.h()},h(){i(e,"class","tabs")},m(t,o){d(t,e,o);for(let t=0;t<m.length;t+=1)m[t].m(e,null);d(t,a,o),$&&$.m(t,o),d(t,n,o),s=!0},p(t,a){if(514&a){let o;for(h=t[1],o=0;o<h.length;o+=1){const n=H(t,h,o);m[o]?(m[o].p(n,a),E(m[o],1)):(m[o]=S(n),m[o].c(),E(m[o],1),m[o].m(e,null))}for(I(),o=h.length;o<m.length;o+=1)u(o);w()}10&a&&(f=void 0!==t[1].filter(t[14])[0]&&null!=t[3].power),f?$?($.p(t,a),E($,1)):(($=X(t)).c(),E($,1),$.m(n.parentNode,n)):$&&(I(),k($,1,1,()=>{$=null}),w())},i(t){if(!s){for(let t=0;t<h.length;t+=1)E(m[t]);E($),s=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)k(m[t]);k($),s=!1},d(t){t&&c(e),x(m,t),t&&c(a),$&&$.d(t),t&&c(n)}}}function U(t){let e,a;return{c(){e=o("h2"),a=n("No Tokens Loaded")},l(t){e=l(t,"H2",{});var o=r(e);a=s(o,"No Tokens Loaded"),o.forEach(c)},m(t,o){d(t,e,o),h(e,a)},p:m,i:m,o:m,d(t){t&&c(e)}}}function S(t){let e;const a=new V({props:{name:t[15].name,color:t[15].color,id:t[15].id}});return a.$on("opentoken",t[9]),{c(){u(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,o){v(a,t,o),e=!0},p(t,e){const o={};2&e&&(o.name=t[15].name),2&e&&(o.color=t[15].color),2&e&&(o.id=t[15].id),a.$set(o)},i(t){e||(E(a.$$.fragment,t),e=!0)},o(t){k(a.$$.fragment,t),e=!1},d(t){T(a,t)}}}function X(t){let e,a;const n=new B({props:{name:t[3].name,color:t[3].color,power:t[3].power,tough:t[3].tough,ability:t[3].ability,tapped:t[3].tapped,id:t[3].id}});return n.$on("removetoken",t[8]),n.$on("update",t[10]),{c(){e=o("div"),u(n.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=r(e);$(n.$$.fragment,a),a.forEach(c),this.h()},h(){i(e,"class","tabcontent")},m(t,o){d(t,e,o),v(n,e,null),a=!0},p(t,e){const a={};8&e&&(a.name=t[3].name),8&e&&(a.color=t[3].color),8&e&&(a.power=t[3].power),8&e&&(a.tough=t[3].tough),8&e&&(a.ability=t[3].ability),8&e&&(a.tapped=t[3].tapped),8&e&&(a.id=t[3].id),n.$set(a)},i(t){a||(E(n.$$.fragment,t),a=!0)},o(t){k(n.$$.fragment,t),a=!1},d(t){t&&c(e),T(n)}}}function q(t){let e,a,m,N,j,x,B,V,H,S,X,q,z,F,G,J,K,M,A,C,P=t[0]>0&&L(t);const Q=new D({});Q.$on("addtoken",t[7]);const R=[U,O],W=[];function Y(t,e){return t[1].length<1?0:1}return K=Y(t),M=W[K]=R[K](t),{c(){e=o("div"),a=o("h1"),m=n(t[2]),N=p(),j=o("h3"),x=n(t[0]),B=p(),V=o("button"),H=n("+1"),S=p(),P&&P.c(),X=p(),q=o("button"),z=n("X"),F=p(),G=o("div"),u(Q.$$.fragment),J=p(),M.c(),this.h()},l(o){e=l(o,"DIV",{class:!0});var n=r(e);a=l(n,"H1",{});var i=r(a);m=s(i,t[2]),i.forEach(c),N=g(n),j=l(n,"H3",{});var f=r(j);x=s(f,t[0]),f.forEach(c),B=g(n),V=l(n,"BUTTON",{class:!0});var d=r(V);H=s(d,"+1"),d.forEach(c),S=g(n),P&&P.l(n),X=g(n),q=l(n,"BUTTON",{class:!0});var h=r(q);z=s(h,"X"),h.forEach(c),F=g(n),G=l(n,"DIV",{class:!0});var p=r(G);$(Q.$$.fragment,p),p.forEach(c),J=g(n),M.l(n),n.forEach(c),this.h()},h(){i(V,"class","btn btn-success"),i(q,"class","btn btn-danger btn-sm"),i(G,"class","container"),i(e,"class","card"),C=[f(V,"click",t[4]),f(q,"click",t[6])]},m(t,o){d(t,e,o),h(e,a),h(a,m),h(e,N),h(e,j),h(j,x),h(e,B),h(e,V),h(V,H),h(e,S),P&&P.m(e,null),h(e,X),h(e,q),h(q,z),h(e,F),h(e,G),v(Q,G,null),h(e,J),W[K].m(e,null),A=!0},p(t,[a]){(!A||4&a)&&b(m,t[2]),(!A||1&a)&&b(x,t[0]),t[0]>0?P?P.p(t,a):((P=L(t)).c(),P.m(e,X)):P&&(P.d(1),P=null);let o=K;(K=Y(t))===o?W[K].p(t,a):(I(),k(W[o],1,1,()=>{W[o]=null}),w(),(M=W[K])||(M=W[K]=R[K](t)).c(),E(M,1),M.m(e,null))},i(t){A||(E(Q.$$.fragment,t),E(M),A=!0)},o(t){k(Q.$$.fragment,t),k(M),A=!1},d(t){t&&c(e),P&&P.d(),T(Q),W[K].d(),y(C)}}}function z(t,e,a){const o=N();let{name:n}=e,{life:l}=e;var r=()=>Math.random().toString(36).substr(2),s=()=>r()+r();let{tokens:c}=e,i=c[0];return t.$set=(t=>{"name"in t&&a(2,n=t.name),"life"in t&&a(0,l=t.life),"tokens"in t&&a(1,c=t.tokens)}),[l,c,n,i,()=>a(0,l+=1),()=>a(0,l-=1),()=>o("removeplayer",n),t=>{console.log(t.detail[0]);for(var e=0;e<t.detail[1];e++){var o=t.detail[0];a(1,c=[...c,{name:o.name,color:o.color,power:o.power,tough:o.tough,ability:o.ability,tapped:o.tapped,id:s()}]),console.log(c)}},t=>{a(1,c=c.filter(e=>e.id!==t.detail))},t=>{a(3,i=c.filter(e=>e.id===t.detail)[0])},t=>{var e=c.length;a(3,i=t.detail);for(var o=0;o<e;o++)for(var n in c[o])if(c[o][n]===i.id){console.log(i),c.splice(o,1,i),console.log(c);break}},o,r,s,t=>t.id===i.id]}export default class extends t{constructor(t){super(),e(this,t,z,q,a,{name:2,life:0,tokens:1})}}
