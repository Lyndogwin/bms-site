import{_ as n,a as t,b as o,c as a,i as r,s as i,d as c,S as e,f,t as u,j as l,k as s,l as d,g as h,m,n as v,o as p,z as g,p as $,e as b,H as k,h as w,I as E,J as T,u as y,r as N,K as j,L as B,M as I,N as _,A as D,B as H,O as L,P as O,Q as V,v as U}from"./client.880995d4.js";import M from"./token.639038d1.js";import S from"./addToken.561f7f62.js";import X from"./tabLink.46d8f1b8.js";function x(n,t,o){var a=n.slice();return a[15]=t[o],a}function z(n){var t,o,a;return{c:function(){t=f("button"),o=u("-1"),this.h()},l:function(n){t=l(n,"BUTTON",{class:!0});var a=s(t);o=d(a,"-1"),a.forEach(h),this.h()},h:function(){m(t,"class","btn btn-dark")},m:function(r,i){v(r,t,i),p(t,o),a=g(t,"click",n[5])},p:$,d:function(n){n&&h(t),a()}}}function A(n){for(var t,o,a,r,i=void 0!==n[1].filter(n[14])[0]&&null!=n[3].power,c=n[1],e=[],u=0;u<c.length;u+=1)e[u]=K(x(n,c,u));var d=function(n){return j(e[n],1,1,(function(){e[n]=null}))},p=i&&P(n);return{c:function(){t=f("div");for(var n=0;n<e.length;n+=1)e[n].c();o=b(),p&&p.c(),a=V(),this.h()},l:function(n){t=l(n,"DIV",{class:!0});for(var r=s(t),i=0;i<e.length;i+=1)e[i].l(r);r.forEach(h),o=w(n),p&&p.l(n),a=V(),this.h()},h:function(){m(t,"class","tabs")},m:function(n,i){v(n,t,i);for(var c=0;c<e.length;c+=1)e[c].m(t,null);v(n,o,i),p&&p.m(n,i),v(n,a,i),r=!0},p:function(n,o){if(514&o){var r;for(c=n[1],r=0;r<c.length;r+=1){var f=x(n,c,r);e[r]?(e[r].p(f,o),I(e[r],1)):(e[r]=K(f),e[r].c(),I(e[r],1),e[r].m(t,null))}for(L(),r=c.length;r<e.length;r+=1)d(r);B()}10&o&&(i=void 0!==n[1].filter(n[14])[0]&&null!=n[3].power),i?p?(p.p(n,o),I(p,1)):((p=P(n)).c(),I(p,1),p.m(a.parentNode,a)):p&&(L(),j(p,1,1,(function(){p=null})),B())},i:function(n){if(!r){for(var t=0;t<c.length;t+=1)I(e[t]);I(p),r=!0}},o:function(n){e=e.filter(Boolean);for(var t=0;t<e.length;t+=1)j(e[t]);j(p),r=!1},d:function(n){n&&h(t),U(e,n),n&&h(o),p&&p.d(n),n&&h(a)}}}function J(n){var t,o;return{c:function(){t=f("h2"),o=u("No Tokens Loaded")},l:function(n){t=l(n,"H2",{});var a=s(t);o=d(a,"No Tokens Loaded"),a.forEach(h)},m:function(n,a){v(n,t,a),p(t,o)},p:$,i:$,o:$,d:function(n){n&&h(t)}}}function K(n){var t,o=new X({props:{name:n[15].name,color:n[15].color,id:n[15].id}});return o.$on("opentoken",n[9]),{c:function(){k(o.$$.fragment)},l:function(n){E(o.$$.fragment,n)},m:function(n,a){T(o,n,a),t=!0},p:function(n,t){var a={};2&t&&(a.name=n[15].name),2&t&&(a.color=n[15].color),2&t&&(a.id=n[15].id),o.$set(a)},i:function(n){t||(I(o.$$.fragment,n),t=!0)},o:function(n){j(o.$$.fragment,n),t=!1},d:function(n){_(o,n)}}}function P(n){var t,o,a=new M({props:{name:n[3].name,color:n[3].color,power:n[3].power,tough:n[3].tough,ability:n[3].ability,tapped:n[3].tapped,id:n[3].id}});return a.$on("removetoken",n[8]),a.$on("update",n[10]),{c:function(){t=f("div"),k(a.$$.fragment),this.h()},l:function(n){t=l(n,"DIV",{class:!0});var o=s(t);E(a.$$.fragment,o),o.forEach(h),this.h()},h:function(){m(t,"class","tabcontent")},m:function(n,r){v(n,t,r),T(a,t,null),o=!0},p:function(n,t){var o={};8&t&&(o.name=n[3].name),8&t&&(o.color=n[3].color),8&t&&(o.power=n[3].power),8&t&&(o.tough=n[3].tough),8&t&&(o.ability=n[3].ability),8&t&&(o.tapped=n[3].tapped),8&t&&(o.id=n[3].id),a.$set(o)},i:function(n){o||(I(a.$$.fragment,n),o=!0)},o:function(n){j(a.$$.fragment,n),o=!1},d:function(n){n&&h(t),_(a)}}}function Q(n){var t,o,a,r,i,c,e,$,H,O,V,U,M,X,x,K,P,Q,q,C,F=n[0]>0&&z(n),G=new S({});G.$on("addtoken",n[7]);var R=[J,A],W=[];function Y(n,t){return n[1].length<1?0:1}return P=Y(n),Q=W[P]=R[P](n),{c:function(){t=f("div"),o=f("h1"),a=u(n[2]),r=b(),i=f("h3"),c=u(n[0]),e=b(),$=f("button"),H=u("+1"),O=b(),F&&F.c(),V=b(),U=f("button"),M=u("X"),X=b(),x=f("div"),k(G.$$.fragment),K=b(),Q.c(),this.h()},l:function(f){t=l(f,"DIV",{class:!0});var u=s(t);o=l(u,"H1",{});var m=s(o);a=d(m,n[2]),m.forEach(h),r=w(u),i=l(u,"H3",{});var v=s(i);c=d(v,n[0]),v.forEach(h),e=w(u),$=l(u,"BUTTON",{class:!0});var p=s($);H=d(p,"+1"),p.forEach(h),O=w(u),F&&F.l(u),V=w(u),U=l(u,"BUTTON",{class:!0});var g=s(U);M=d(g,"X"),g.forEach(h),X=w(u),x=l(u,"DIV",{class:!0});var b=s(x);E(G.$$.fragment,b),b.forEach(h),K=w(u),Q.l(u),u.forEach(h),this.h()},h:function(){m($,"class","btn btn-success"),m(U,"class","btn btn-danger btn-sm"),m(x,"class","container"),m(t,"class","card")},m:function(f,u){v(f,t,u),p(t,o),p(o,a),p(t,r),p(t,i),p(i,c),p(t,e),p(t,$),p($,H),p(t,O),F&&F.m(t,null),p(t,V),p(t,U),p(U,M),p(t,X),p(t,x),T(G,x,null),p(t,K),W[P].m(t,null),q=!0,C=[g($,"click",n[4]),g(U,"click",n[6])]},p:function(n,o){var r=y(o,1)[0];(!q||4&r)&&N(a,n[2]),(!q||1&r)&&N(c,n[0]),n[0]>0?F?F.p(n,r):((F=z(n)).c(),F.m(t,V)):F&&(F.d(1),F=null);var i=P;(P=Y(n))===i?W[P].p(n,r):(L(),j(W[i],1,1,(function(){W[i]=null})),B(),(Q=W[P])||(Q=W[P]=R[P](n)).c(),I(Q,1),Q.m(t,null))},i:function(n){q||(I(G.$$.fragment,n),I(Q),q=!0)},o:function(n){j(G.$$.fragment,n),j(Q),q=!1},d:function(n){n&&h(t),F&&F.d(),_(G),W[P].d(),D(C)}}}function q(n,t,o){var a=H(),r=t.name,i=t.life,c=t.rand,e=void 0===c?function(){return Math.random().toString(36).substr(2)}:c,f=t.id_gen,u=void 0===f?function(){return e()+e()}:f,l=t.tokens,s=l[0];return n.$set=function(n){"name"in n&&o(2,r=n.name),"life"in n&&o(0,i=n.life),"rand"in n&&o(11,e=n.rand),"id_gen"in n&&o(12,u=n.id_gen),"tokens"in n&&o(1,l=n.tokens)},[i,l,r,s,function(){return o(0,i+=1)},function(){return o(0,i-=1)},function(){return a("removeplayer",r)},function(n){console.log(n.detail[0]);for(var t=0;t<n.detail[1];t++){var a=n.detail[0];o(1,l=[].concat(O(l),[{name:a.name,color:a.color,power:a.power,tough:a.tough,ability:a.ability,tapped:a.tapped,id:u()}]))}},function(n){o(1,l=l.filter((function(t){return t.id!==n.detail})))},function(n){o(3,s=l.filter((function(t){return t.id===n.detail}))[0])},function(n){var t=l.length;o(3,s=n.detail);for(var a=0;a<t;a++)for(var r in l[a])if(l[a][r]===s.id){console.log(s),l.splice(a,1,s),console.log(l);break}},e,u,a,function(n){return n.id===s.id}]}var C=function(f){function u(n){var e;return t(this,u),e=o(this,a(u).call(this)),r(c(e),n,q,Q,i,{name:2,life:0,rand:11,id_gen:12,tokens:1}),e}return n(u,e),u}();export default C;
