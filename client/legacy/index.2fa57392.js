import{_ as n,a,b as t,c as o,i as e,s as r,d as i,S as c,f,H as l,e as s,t as u,j as m,k as g,I as v,g as p,h as d,l as h,m as $,n as y,J as b,o as k,z as N,u as S,K as T,L as E,M as j,N as I,A as O,O as P,P as B,Q as w,v as A,p as L}from"./client.880995d4.js";import"./token.639038d1.js";import"./addToken.561f7f62.js";import"./tabLink.46d8f1b8.js";import D from"./player.5e1b8c37.js";import J from"./addPlayer.5f2c50ef.js";function K(n,a,t){var o=n.slice();return o[6]=a[t],o}function V(n){for(var a,t,o=n[0],e=[],r=0;r<o.length;r+=1)e[r]=U(K(n,o,r));var i=function(n){return T(e[n],1,1,(function(){e[n]=null}))};return{c:function(){for(var n=0;n<e.length;n+=1)e[n].c();a=w()},l:function(n){for(var t=0;t<e.length;t+=1)e[t].l(n);a=w()},m:function(n,o){for(var r=0;r<e.length;r+=1)e[r].m(n,o);y(n,a,o),t=!0},p:function(n,t){if(5&t){var r;for(o=n[0],r=0;r<o.length;r+=1){var c=K(n,o,r);e[r]?(e[r].p(c,t),j(e[r],1)):(e[r]=U(c),e[r].c(),j(e[r],1),e[r].m(a.parentNode,a))}for(P(),r=o.length;r<e.length;r+=1)i(r);E()}},i:function(n){if(!t){for(var a=0;a<o.length;a+=1)j(e[a]);t=!0}},o:function(n){e=e.filter(Boolean);for(var a=0;a<e.length;a+=1)T(e[a]);t=!1},d:function(n){A(e,n),n&&p(a)}}}function H(n){var a,t;return{c:function(){a=f("h1"),t=u("No Players")},l:function(n){a=m(n,"H1",{});var o=g(a);t=h(o,"No Players"),o.forEach(p)},m:function(n,o){y(n,a,o),k(a,t)},p:L,i:L,o:L,d:function(n){n&&p(a)}}}function U(n){var a,t=new D({props:{name:n[6].name,life:n[6].life,tokens:n[6].tokens}});return t.$on("removeplayer",n[2]),{c:function(){l(t.$$.fragment)},l:function(n){v(t.$$.fragment,n)},m:function(n,o){b(t,n,o),a=!0},p:function(n,a){var o={};1&a&&(o.name=n[6].name),1&a&&(o.life=n[6].life),1&a&&(o.tokens=n[6].tokens),t.$set(o)},i:function(n){a||(j(t.$$.fragment,n),a=!0)},o:function(n){T(t.$$.fragment,n),a=!1},d:function(n){I(t,n)}}}function x(n){var a,t,o,e,r,i,c,B,w,A,L,D,K,U,x=new J({});x.$on("addplayer",n[1]);var z=[H,V],M=[];function Q(n,a){return 0===n[0].length?0:1}return e=Q(n),r=M[e]=z[e](n),{c:function(){a=f("div"),l(x.$$.fragment),t=s(),o=f("div"),r.c(),i=s(),c=f("div"),B=f("button"),w=u("Save game"),A=s(),L=f("button"),D=u("Load game"),this.h()},l:function(n){a=m(n,"DIV",{class:!0});var e=g(a);v(x.$$.fragment,e),e.forEach(p),t=d(n),o=m(n,"DIV",{class:!0});var f=g(o);r.l(f),f.forEach(p),i=d(n),c=m(n,"DIV",{});var l=g(c);B=m(l,"BUTTON",{class:!0});var s=g(B);w=h(s,"Save game"),s.forEach(p),A=d(l),L=m(l,"BUTTON",{class:!0});var u=g(L);D=h(u,"Load game"),u.forEach(p),l.forEach(p),this.h()},h:function(){$(a,"class","container"),$(o,"class","container"),$(B,"class","btn btn-primary"),$(L,"class","btn btn-primary")},m:function(r,f){y(r,a,f),b(x,a,null),y(r,t,f),y(r,o,f),M[e].m(o,null),y(r,i,f),y(r,c,f),k(c,B),k(B,w),k(c,A),k(c,L),k(L,D),K=!0,U=[N(B,"click",n[3]),N(L,"click",n[4])]},p:function(n,a){var t=S(a,1)[0],i=e;(e=Q(n))===i?M[e].p(n,t):(P(),T(M[i],1,1,(function(){M[i]=null})),E(),(r=M[e])||(r=M[e]=z[e](n)).c(),j(r,1),r.m(o,null))},i:function(n){K||(j(x.$$.fragment,n),j(r),K=!0)},o:function(n){T(x.$$.fragment,n),T(r),K=!1},d:function(n){n&&p(a),I(x),n&&p(t),n&&p(o),M[e].d(),n&&p(i),n&&p(c),O(U)}}}function z(n,a,t){var o="",e=[{name:"Player1",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:0}]},{name:"Player2",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:0}]}];return[e,function(n){var a=n.detail;t(0,e=[].concat(B(e),[a]))},function(n){t(0,e=e.filter((function(a){return a.name!==n.detail})))},function(){console.log("Saving game"),o=JSON.stringify(e),localStorage.setItem("state",o)},function(){localStorage.getItem("state")&&(console.log("Attempting to load game"),o=localStorage.getItem("state"),t(0,e=JSON.parse(o)))}]}var M=function(f){function l(n){var c;return a(this,l),c=t(this,o(l).call(this)),e(i(c),n,z,x,r,{}),c}return n(l,c),l}();export default M;
