import{a as n,b as t,c as o,d as a,i as r,s as i,e as c,S as e,f,t as u,h as l,j as s,k as d,l as h,o as m,N as p,q as v,r as g,n as $,g as b,v as k,m as w,w as E,x as T,D as y,B as N,K as j,A as B,C as D,O as I,P as L,J as O,W as V,E as x,L as H}from"./index.5dab2b76.js";import{_ as U}from"./slicedToArray.f13a096f.js";import A from"./token.e465616e.js";import S from"./addToken.2392bd39.js";import X from"./tabLink.8afda98e.js";function q(n,t,o){var a=n.slice();return a[15]=t[o],a}function C(n){var t,o,a;return{c:function(){t=f("button"),o=u("-1"),this.h()},l:function(n){t=l(n,"BUTTON",{class:!0});var a=s(t);o=d(a,"-1"),a.forEach(h),this.h()},h:function(){m(t,"class","btn btn-dark"),a=p(t,"click",n[5])},m:function(n,a){v(n,t,a),g(t,o)},p:$,d:function(n){n&&h(t),a()}}}function J(n){for(var t,o,a,r,i=void 0!==n[1].filter(n[14])[0]&&null!=n[3].power,c=n[1],e=[],u=0;u<c.length;u+=1)e[u]=M(q(n,c,u));var d=function(n){return N(e[n],1,1,function(){e[n]=null})},p=i&&P(n);return{c:function(){t=f("div");for(var n=0;n<e.length;n+=1)e[n].c();o=b(),p&&p.c(),a=x(),this.h()},l:function(n){t=l(n,"DIV",{class:!0});for(var r=s(t),i=0;i<e.length;i+=1)e[i].l(r);r.forEach(h),o=w(n),p&&p.l(n),a=x(),this.h()},h:function(){m(t,"class","tabs")},m:function(n,i){v(n,t,i);for(var c=0;c<e.length;c+=1)e[c].m(t,null);v(n,o,i),p&&p.m(n,i),v(n,a,i),r=!0},p:function(n,o){if(514&o){var r;for(c=n[1],r=0;r<c.length;r+=1){var f=q(n,c,r);e[r]?(e[r].p(f,o),B(e[r],1)):(e[r]=M(f),e[r].c(),B(e[r],1),e[r].m(t,null))}for(O(),r=c.length;r<e.length;r+=1)d(r);j()}10&o&&(i=void 0!==n[1].filter(n[14])[0]&&null!=n[3].power),i?p?(p.p(n,o),B(p,1)):((p=P(n)).c(),B(p,1),p.m(a.parentNode,a)):p&&(O(),N(p,1,1,function(){p=null}),j())},i:function(n){if(!r){for(var t=0;t<c.length;t+=1)B(e[t]);B(p),r=!0}},o:function(n){e=e.filter(Boolean);for(var t=0;t<e.length;t+=1)N(e[t]);N(p),r=!1},d:function(n){n&&h(t),H(e,n),n&&h(o),p&&p.d(n),n&&h(a)}}}function K(n){var t,o;return{c:function(){t=f("h2"),o=u("No Tokens Loaded")},l:function(n){t=l(n,"H2",{});var a=s(t);o=d(a,"No Tokens Loaded"),a.forEach(h)},m:function(n,a){v(n,t,a),g(t,o)},p:$,i:$,o:$,d:function(n){n&&h(t)}}}function M(n){var t,o=new X({props:{name:n[15].name,color:n[15].color,id:n[15].id}});return o.$on("opentoken",n[9]),{c:function(){k(o.$$.fragment)},l:function(n){E(o.$$.fragment,n)},m:function(n,a){T(o,n,a),t=!0},p:function(n,t){var a={};2&t&&(a.name=n[15].name),2&t&&(a.color=n[15].color),2&t&&(a.id=n[15].id),o.$set(a)},i:function(n){t||(B(o.$$.fragment,n),t=!0)},o:function(n){N(o.$$.fragment,n),t=!1},d:function(n){D(o,n)}}}function P(n){var t,o,a=new A({props:{name:n[3].name,color:n[3].color,power:n[3].power,tough:n[3].tough,ability:n[3].ability,tapped:n[3].tapped,id:n[3].id}});return a.$on("removetoken",n[8]),a.$on("update",n[10]),{c:function(){t=f("div"),k(a.$$.fragment),this.h()},l:function(n){t=l(n,"DIV",{class:!0});var o=s(t);E(a.$$.fragment,o),o.forEach(h),this.h()},h:function(){m(t,"class","tabcontent")},m:function(n,r){v(n,t,r),T(a,t,null),o=!0},p:function(n,t){var o={};8&t&&(o.name=n[3].name),8&t&&(o.color=n[3].color),8&t&&(o.power=n[3].power),8&t&&(o.tough=n[3].tough),8&t&&(o.ability=n[3].ability),8&t&&(o.tapped=n[3].tapped),8&t&&(o.id=n[3].id),a.$set(o)},i:function(n){o||(B(a.$$.fragment,n),o=!0)},o:function(n){N(a.$$.fragment,n),o=!1},d:function(n){n&&h(t),D(a)}}}function W(n){var t,o,a,r,i,c,e,$,L,V,x,H,A,X,q,M,P,W,_,z,F=n[0]>0&&C(n),G=new S({});G.$on("addtoken",n[7]);var Q=[K,J],R=[];function Y(n,t){return n[1].length<1?0:1}return P=Y(n),W=R[P]=Q[P](n),{c:function(){t=f("div"),o=f("h1"),a=u(n[2]),r=b(),i=f("h3"),c=u(n[0]),e=b(),$=f("button"),L=u("+1"),V=b(),F&&F.c(),x=b(),H=f("button"),A=u("X"),X=b(),q=f("div"),k(G.$$.fragment),M=b(),W.c(),this.h()},l:function(f){t=l(f,"DIV",{class:!0});var u=s(t);o=l(u,"H1",{});var m=s(o);a=d(m,n[2]),m.forEach(h),r=w(u),i=l(u,"H3",{});var p=s(i);c=d(p,n[0]),p.forEach(h),e=w(u),$=l(u,"BUTTON",{class:!0});var v=s($);L=d(v,"+1"),v.forEach(h),V=w(u),F&&F.l(u),x=w(u),H=l(u,"BUTTON",{class:!0});var g=s(H);A=d(g,"X"),g.forEach(h),X=w(u),q=l(u,"DIV",{class:!0});var b=s(q);E(G.$$.fragment,b),b.forEach(h),M=w(u),W.l(u),u.forEach(h),this.h()},h:function(){m($,"class","btn btn-success"),m(H,"class","btn btn-danger btn-sm"),m(q,"class","container"),m(t,"class","card"),z=[p($,"click",n[4]),p(H,"click",n[6])]},m:function(n,f){v(n,t,f),g(t,o),g(o,a),g(t,r),g(t,i),g(i,c),g(t,e),g(t,$),g($,L),g(t,V),F&&F.m(t,null),g(t,x),g(t,H),g(H,A),g(t,X),g(t,q),T(G,q,null),g(t,M),R[P].m(t,null),_=!0},p:function(n,o){var r=U(o,1)[0];(!_||4&r)&&y(a,n[2]),(!_||1&r)&&y(c,n[0]),n[0]>0?F?F.p(n,r):((F=C(n)).c(),F.m(t,x)):F&&(F.d(1),F=null);var i=P;(P=Y(n))===i?R[P].p(n,r):(O(),N(R[i],1,1,function(){R[i]=null}),j(),(W=R[P])||(W=R[P]=Q[P](n)).c(),B(W,1),W.m(t,null))},i:function(n){_||(B(G.$$.fragment,n),B(W),_=!0)},o:function(n){N(G.$$.fragment,n),N(W),_=!1},d:function(n){n&&h(t),F&&F.d(),D(G),R[P].d(),I(z)}}}function _(n,t,o){var a=L(),r=t.name,i=t.life,c=function(){return Math.random().toString(36).substr(2)},e=function(){return c()+c()},f=t.tokens,u=f[0];return n.$set=function(n){"name"in n&&o(2,r=n.name),"life"in n&&o(0,i=n.life),"tokens"in n&&o(1,f=n.tokens)},[i,f,r,u,function(){return o(0,i+=1)},function(){return o(0,i-=1)},function(){return a("removeplayer",r)},function(n){console.log(n.detail[0]);for(var t=0;t<n.detail[1];t++){var a=n.detail[0];o(1,f=[].concat(V(f),[{name:a.name,color:a.color,power:a.power,tough:a.tough,ability:a.ability,tapped:a.tapped,id:e()}])),console.log(f)}},function(n){o(1,f=f.filter(function(t){return t.id!==n.detail}))},function(n){o(3,u=f.filter(function(t){return t.id===n.detail})[0])},function(n){var t=f.length;o(3,u=n.detail);for(var a=0;a<t;a++)for(var r in f[a])if(f[a][r]===u.id){console.log(u),f.splice(a,1,u),console.log(f);break}},a,c,e,function(n){return n.id===u.id}]}export default(function(f){function u(n){var e;return t(this,u),e=o(this,a(u).call(this)),r(c(e),n,_,W,i,{name:2,life:0,tokens:1}),e}return n(u,e),u}());
