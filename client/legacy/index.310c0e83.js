import{_ as n,a,b as t,c as o,i as e,s as r,d as i,S as c,f as l,H as f,e as s,t as u,j as m,k as g,I as v,g as d,h as p,l as h,m as $,n as b,J as y,o as N,z as k,u as S,K as T,L as E,M as j,N as I,A as O,O as P,P as B,Q as w,v as A,p as L}from"./client.78d4496e.js";import"./token.8a58bf33.js";import"./addToken.11f796d1.js";import"./tabLink.cec3bcdd.js";import D from"./player.b09c3e2a.js";import{N as J,i as K}from"./addPlayer.77e77d3a.js";function V(n,a,t){var o=n.slice();return o[5]=a[t],o}function H(n){for(var a,t,o=n[0],e=[],r=0;r<o.length;r+=1)e[r]=x(V(n,o,r));var i=function(n){return T(e[n],1,1,(function(){e[n]=null}))};return{c:function(){for(var n=0;n<e.length;n+=1)e[n].c();a=w()},l:function(n){for(var t=0;t<e.length;t+=1)e[t].l(n);a=w()},m:function(n,o){for(var r=0;r<e.length;r+=1)e[r].m(n,o);b(n,a,o),t=!0},p:function(n,t){if(5&t){var r;for(o=n[0],r=0;r<o.length;r+=1){var c=V(n,o,r);e[r]?(e[r].p(c,t),j(e[r],1)):(e[r]=x(c),e[r].c(),j(e[r],1),e[r].m(a.parentNode,a))}for(P(),r=o.length;r<e.length;r+=1)i(r);E()}},i:function(n){if(!t){for(var a=0;a<o.length;a+=1)j(e[a]);t=!0}},o:function(n){e=e.filter(Boolean);for(var a=0;a<e.length;a+=1)T(e[a]);t=!1},d:function(n){A(e,n),n&&d(a)}}}function U(n){var a,t;return{c:function(){a=l("h1"),t=u("No Players")},l:function(n){a=m(n,"H1",{});var o=g(a);t=h(o,"No Players"),o.forEach(d)},m:function(n,o){b(n,a,o),N(a,t)},p:L,i:L,o:L,d:function(n){n&&d(a)}}}function x(n){var a,t=new D({props:{name:n[5].name,life:n[5].life,tokens:n[5].tokens}});return t.$on("removeplayer",n[2]),{c:function(){f(t.$$.fragment)},l:function(n){v(t.$$.fragment,n)},m:function(n,o){y(t,n,o),a=!0},p:function(n,a){var o={};1&a&&(o.name=n[5].name),1&a&&(o.life=n[5].life),1&a&&(o.tokens=n[5].tokens),t.$set(o)},i:function(n){a||(j(t.$$.fragment,n),a=!0)},o:function(n){T(t.$$.fragment,n),a=!1},d:function(n){I(t,n)}}}function z(n){var a,t,o,e,r,i,c,B,w,A,L,D,K,V,x=new J({});x.$on("addplayer",n[1]);var z=[U,H],M=[];function Q(n,a){return 0===n[0].length?0:1}return e=Q(n),r=M[e]=z[e](n),{c:function(){a=l("div"),f(x.$$.fragment),t=s(),o=l("div"),r.c(),i=s(),c=l("div"),B=l("button"),w=u("Save game"),A=s(),L=l("button"),D=u("Load game"),this.h()},l:function(n){a=m(n,"DIV",{class:!0});var e=g(a);v(x.$$.fragment,e),e.forEach(d),t=p(n),o=m(n,"DIV",{class:!0});var l=g(o);r.l(l),l.forEach(d),i=p(n),c=m(n,"DIV",{});var f=g(c);B=m(f,"BUTTON",{class:!0});var s=g(B);w=h(s,"Save game"),s.forEach(d),A=p(f),L=m(f,"BUTTON",{class:!0});var u=g(L);D=h(u,"Load game"),u.forEach(d),f.forEach(d),this.h()},h:function(){$(a,"class","container"),$(o,"class","container"),$(B,"class","btn btn-primary"),$(L,"class","btn btn-primary")},m:function(r,l){b(r,a,l),y(x,a,null),b(r,t,l),b(r,o,l),M[e].m(o,null),b(r,i,l),b(r,c,l),N(c,B),N(B,w),N(c,A),N(c,L),N(L,D),K=!0,V=[k(B,"click",n[3]),k(L,"click",n[4])]},p:function(n,a){var t=S(a,1)[0],i=e;(e=Q(n))===i?M[e].p(n,t):(P(),T(M[i],1,1,(function(){M[i]=null})),E(),(r=M[e])||(r=M[e]=z[e](n)).c(),j(r,1),r.m(o,null))},i:function(n){K||(j(x.$$.fragment,n),j(r),K=!0)},o:function(n){T(x.$$.fragment,n),T(r),K=!1},d:function(n){n&&d(a),I(x),n&&d(t),n&&d(o),M[e].d(),n&&d(i),n&&d(c),O(V)}}}function M(n,a,t){var o=[{name:"Player1",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:K()}]},{name:"Player2",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:K()}]}];return[o,function(n){var a=n.detail;t(0,o=[].concat(B(o),[a])),t(0,o[o.length-1].id=K(),o),console.log(K())},function(n){t(0,o=o.filter((function(a){return a.name!==n.detail})))},function(){console.log("Saving game");var n=JSON.stringify(o);localStorage.setItem("state",n)},function(){if(localStorage.getItem("state")){console.log("Attempting to load game");var n=localStorage.getItem("state");t(0,o=JSON.parse(n))}}]}var Q=function(l){function f(n){var c;return a(this,f),c=t(this,o(f).call(this)),e(i(c),n,M,z,r,{}),c}return n(f,c),f}();export default Q;
