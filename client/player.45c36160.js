import{S as e,i as n,s as t,e as a,t as o,c as r,b as l,d as s,f as c,g as i,C as f,h as m,j as u,a as k,m as h,u as d,q as v,A as p,p as g,r as $,D as b,z as T,v as y,B as E,n as w,E as N}from"./chunk.ad9b5abb.js";import D from"./token.d7a678da.js";import L from"./addToken.8f1a726d.js";import j from"./tabLink.8b7ec6be.js";function B(e,n,t){const a=Object.create(e);return a.temp_token=n[t],a}function P(e){var n,t,k;return{c(){n=a("button"),t=o("-1"),this.h()},l(e){n=r(e,"BUTTON",{class:!0},!1);var a=l(n);t=s(a,"-1"),a.forEach(c),this.h()},h(){i(n,"class","btn btn-dark"),k=f(n,"click",e.subLife)},m(e,a){m(e,n,a),u(n,t)},d(e){e&&c(n),k()}}}function _(e){for(var n,t,o,f,u=e.tokens,h=[],d=0;d<u.length;d+=1)h[d]=I(B(e,u,d));const $=e=>v(h[e],1,()=>{h[e]=null});var b=void 0!==e.tokens.filter(e.func)[0]&&null!=e.token.power&&V(e);return{c(){n=a("div");for(var e=0;e<h.length;e+=1)h[e].c();t=k(),b&&b.c(),o=y(),this.h()},l(e){n=r(e,"DIV",{class:!0},!1);for(var a=l(n),i=0;i<h.length;i+=1)h[i].l(a);a.forEach(c),t=s(e,"\n        "),b&&b.l(e),o=y(),this.h()},h(){i(n,"class","tabs")},m(e,a){m(e,n,a);for(var r=0;r<h.length;r+=1)h[r].m(n,null);m(e,t,a),b&&b.m(e,a),m(e,o,a),f=!0},p(e,t){if(e.tokens){u=t.tokens;for(var a=0;a<u.length;a+=1){const o=B(t,u,a);h[a]?(h[a].p(e,o),g(h[a],1)):(h[a]=I(o),h[a].c(),g(h[a],1),h[a].m(n,null))}for(T(),a=u.length;a<h.length;a+=1)$(a);p()}void 0!==t.tokens.filter(t.func)[0]&&null!=t.token.power?b?(b.p(e,t),g(b,1)):((b=V(t)).c(),g(b,1),b.m(o.parentNode,o)):b&&(T(),v(b,1,()=>{b=null}),p())},i(e){if(!f){for(var n=0;n<u.length;n+=1)g(h[n]);g(b),f=!0}},o(e){h=h.filter(Boolean);for(let e=0;e<h.length;e+=1)v(h[e]);v(b),f=!1},d(e){e&&c(n),E(h,e),e&&c(t),b&&b.d(e),e&&c(o)}}}function O(e){var n,t;return{c(){n=a("h2"),t=o("No Tokens Loaded")},l(e){n=r(e,"H2",{},!1);var a=l(n);t=s(a,"No Tokens Loaded"),a.forEach(c)},m(e,a){m(e,n,a),u(n,t)},p:w,i:w,o:w,d(e){e&&c(n)}}}function I(e){var n,t=new j({props:{name:e.temp_token.name}});return t.$on("opentoken",e.openToken),{c(){t.$$.fragment.c()},l(e){t.$$.fragment.l(e)},m(e,a){h(t,e,a),n=!0},p(e,n){var a={};e.tokens&&(a.name=n.temp_token.name),t.$set(a)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){$(t,e)}}}function V(e){var n,t,o=new D({props:{name:e.token.name,color:e.token.color,power:e.token.power,tough:e.token.tough,ability:e.token.ability}});return o.$on("removetoken",e.removeToken),{c(){n=a("div"),o.$$.fragment.c(),this.h()},l(e){n=r(e,"DIV",{class:!0},!1);var t=l(n);o.$$.fragment.l(t),t.forEach(c),this.h()},h(){i(n,"class","tabcontent")},m(e,a){m(e,n,a),h(o,n,null),t=!0},p(e,n){var t={};e.token&&(t.name=n.token.name),e.token&&(t.color=n.token.color),e.token&&(t.power=n.token.power),e.token&&(t.tough=n.token.tough),e.token&&(t.ability=n.token.ability),o.$set(t)},i(e){t||(g(o.$$.fragment,e),t=!0)},o(e){v(o.$$.fragment,e),t=!1},d(e){e&&c(n),$(o)}}}function H(e){var n,t,y,E,w,N,D,j,B,I,V,H,U,x,A,C,S,X,q,z,K=e.life>0&&P(e),F=new L({});F.$on("addtoken",e.addToken);var G=[O,_],J=[];function M(e){return e.tokens.length<1?0:1}return S=M(e),X=J[S]=G[S](e),{c(){n=a("div"),t=a("h1"),y=o(e.name),E=k(),w=a("h3"),N=o(e.life),D=k(),j=a("button"),B=o("+1"),I=k(),K&&K.c(),V=k(),H=a("button"),U=o("X"),x=k(),A=a("div"),F.$$.fragment.c(),C=k(),X.c(),this.h()},l(a){n=r(a,"DIV",{class:!0},!1);var o=l(n);t=r(o,"H1",{},!1);var i=l(t);y=s(i,e.name),i.forEach(c),E=s(o,"\n    "),w=r(o,"H3",{},!1);var f=l(w);N=s(f,e.life),f.forEach(c),D=s(o,"\n    "),j=r(o,"BUTTON",{class:!0},!1);var m=l(j);B=s(m,"+1"),m.forEach(c),I=s(o,"\n    "),K&&K.l(o),V=s(o,"\n    "),H=r(o,"BUTTON",{class:!0},!1);var u=l(H);U=s(u,"X"),u.forEach(c),x=s(o," \n    "),A=r(o,"DIV",{class:!0},!1);var k=l(A);F.$$.fragment.l(k),k.forEach(c),C=s(o,"\n    "),X.l(o),o.forEach(c),this.h()},h(){i(j,"class","btn btn-success"),i(H,"class","btn btn-danger btn-sm"),i(A,"class","container"),i(n,"class","card"),z=[f(j,"click",e.addLife),f(H,"click",e.onDelete)]},m(e,a){m(e,n,a),u(n,t),u(t,y),u(n,E),u(n,w),u(w,N),u(n,D),u(n,j),u(j,B),u(n,I),K&&K.m(n,null),u(n,V),u(n,H),u(H,U),u(n,x),u(n,A),h(F,A,null),u(n,C),J[S].m(n,null),q=!0},p(e,t){q&&!e.name||d(y,t.name),q&&!e.life||d(N,t.life),t.life>0?K||((K=P(t)).c(),K.m(n,V)):K&&(K.d(1),K=null);var a=S;(S=M(t))===a?J[S].p(e,t):(T(),v(J[a],1,()=>{J[a]=null}),p(),(X=J[S])||(X=J[S]=G[S](t)).c(),g(X,1),X.m(n,null))},i(e){q||(g(F.$$.fragment,e),g(X),q=!0)},o(e){v(F.$$.fragment,e),v(X),q=!1},d(e){e&&c(n),K&&K.d(),$(F),J[S].d(),b(z)}}}function U(e,n,t){const a=N();let{name:o,life:r}=n;let l=[{name:"TOKEN TABS: ",color:"Colorless",power:null,tough:null,ability:"None"}],s=l[0];let{savePlayer:c={e_name:o,e_life:r,e_tokens:l}}=n;return e.$set=(e=>{"name"in e&&t("name",o=e.name),"life"in e&&t("life",r=e.life),"savePlayer"in e&&t("savePlayer",c=e.savePlayer)}),{name:o,life:r,addLife:()=>{const e=r+=1;return t("life",r),e},subLife:()=>{const e=r-=1;return t("life",r),e},onDelete:()=>a("removeplayer",o),tokens:l,token:s,addToken:e=>{const n=e.detail;t("tokens",l=[...l,n])},removeToken:e=>{t("tokens",l=l.filter(n=>n.name!==e.detail))},openToken:e=>{t("token",s=l.filter(n=>n.name===e.detail)[0]),console.log(s)},savePlayer:c,func:function(e){return e.name===s.name}}}export default class extends e{constructor(e){super(),n(this,e,U,H,t,["name","life","savePlayer"])}}
//# sourceMappingURL=player.45c36160.js.map
