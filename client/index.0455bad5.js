import{S as e,i as t,s as a,e as n,A as l,a as o,t as s,b as r,f as c,B as i,d as f,c as m,g,h as d,j as p,C as u,k as h,p as $,D as v,E as y,F as b,G as k,r as N,H as S,I as E,m as T,n as j}from"./client.9a7e597a.js";import"./token.3f96f150.js";import"./addToken.342dd87b.js";import"./tabLink.baa5cd0a.js";import I from"./player.745ef1ff.js";import B from"./addPlayer.1c0c83ed.js";function O(e,t,a){const n=e.slice();return n[6]=t[a],n}function P(e){let t,a,n=e[0],l=[];for(let t=0;t<n.length;t+=1)l[t]=A(O(e,n,t));const o=e=>v(l[e],1,1,()=>{l[e]=null});return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=E()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=E()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);p(e,t,n),a=!0},p(e,a){if(5&a){let s;for(n=e[0],s=0;s<n.length;s+=1){const o=O(e,n,s);l[s]?(l[s].p(o,a),b(l[s],1)):(l[s]=A(o),l[s].c(),b(l[s],1),l[s].m(t.parentNode,t))}for(S(),s=n.length;s<l.length;s+=1)o(s);y()}},i(e){if(!a){for(let e=0;e<n.length;e+=1)b(l[e]);a=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)v(l[e]);a=!1},d(e){T(l,e),e&&f(t)}}}function w(e){let t,a;return{c(){t=n("h1"),a=s("No Players")},l(e){t=r(e,"H1",{});var n=c(t);a=g(n,"No Players"),n.forEach(f)},m(e,n){p(e,t,n),h(t,a)},p:j,i:j,o:j,d(e){e&&f(t)}}}function A(e){let t;const a=new I({props:{name:e[6].name,life:e[6].life,tokens:e[6].tokens}});return a.$on("removeplayer",e[2]),{c(){l(a.$$.fragment)},l(e){i(a.$$.fragment,e)},m(e,n){u(a,e,n),t=!0},p(e,t){const n={};1&t&&(n.name=e[6].name),1&t&&(n.life=e[6].life),1&t&&(n.tokens=e[6].tokens),a.$set(n)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){v(a.$$.fragment,e),t=!1},d(e){k(a,e)}}}function D(e){let t,a,E,T,j,I,O,A,D,L,V,x,H,J;const K=new B({});K.$on("addplayer",e[1]);const U=[w,P],C=[];function F(e,t){return 0===e[0].length?0:1}return T=F(e),j=C[T]=U[T](e),{c(){t=n("div"),l(K.$$.fragment),a=o(),E=n("div"),j.c(),I=o(),O=n("div"),A=n("button"),D=s("Save game"),L=o(),V=n("button"),x=s("Load game"),this.h()},l(e){t=r(e,"DIV",{class:!0});var n=c(t);i(K.$$.fragment,n),n.forEach(f),a=m(e),E=r(e,"DIV",{class:!0});var l=c(E);j.l(l),l.forEach(f),I=m(e),O=r(e,"DIV",{});var o=c(O);A=r(o,"BUTTON",{class:!0});var s=c(A);D=g(s,"Save game"),s.forEach(f),L=m(o),V=r(o,"BUTTON",{class:!0});var d=c(V);x=g(d,"Load game"),d.forEach(f),o.forEach(f),this.h()},h(){d(t,"class","container"),d(E,"class","container"),d(A,"class","btn btn-primary"),d(V,"class","btn btn-primary")},m(n,l){p(n,t,l),u(K,t,null),p(n,a,l),p(n,E,l),C[T].m(E,null),p(n,I,l),p(n,O,l),h(O,A),h(A,D),h(O,L),h(O,V),h(V,x),H=!0,J=[$(A,"click",e[3]),$(V,"click",e[4])]},p(e,[t]){let a=T;T=F(e),T===a?C[T].p(e,t):(S(),v(C[a],1,1,()=>{C[a]=null}),y(),j=C[T],j||(j=C[T]=U[T](e),j.c()),b(j,1),j.m(E,null))},i(e){H||(b(K.$$.fragment,e),b(j),H=!0)},o(e){v(K.$$.fragment,e),v(j),H=!1},d(e){e&&f(t),k(K),e&&f(a),e&&f(E),C[T].d(),e&&f(I),e&&f(O),N(J)}}}function L(e,t,a){let n="",l=[{name:"Player1",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:0}]},{name:"Player2",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:0}]}];return[l,e=>{const t=e.detail;a(0,l=[...l,t])},e=>{a(0,l=l.filter(t=>t.name!==e.detail))},()=>{console.log("Saving game"),n=JSON.stringify(l),localStorage.setItem("state",n)},()=>{localStorage.getItem("state")&&(console.log("Attempting to load game"),n=localStorage.getItem("state"),a(0,l=JSON.parse(n)))}]}export default class extends e{constructor(e){super(),t(this,e,L,D,a,{})}}
