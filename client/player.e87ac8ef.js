import{S as e,i as n,s as o,e as t,t as a,c as r,b as l,d as s,f as i,g as c,C as f,h as m,j as d,a as k,m as u,u as h,q as v,A as p,p as g,r as $,D as b,z as T,v as y,B as w,n as E,E as _}from"./chunk.f3d239d6.js";import D from"./token.9bb76f6a.js";import N from"./addToken.61edbfba.js";import L from"./tabLink.60f26ef7.js";function j(e,n,o){const t=Object.create(e);return t.temp_token=n[o],t}function B(e){var n,o,k;return{c(){n=t("button"),o=a("-1"),this.h()},l(e){n=r(e,"BUTTON",{class:!0},!1);var t=l(n);o=s(t,"-1"),t.forEach(i),this.h()},h(){c(n,"class","btn btn-dark"),k=f(n,"click",e.subLife)},m(e,t){m(e,n,t),d(n,o)},d(e){e&&i(n),k()}}}function P(e){for(var n,o,a,f,d=e.tokens,u=[],h=0;h<d.length;h+=1)u[h]=O(j(e,d,h));const $=e=>v(u[e],1,()=>{u[e]=null});var b=void 0!==e.tokens.filter(e.func)[0]&&null!=e.token.power&&V(e);return{c(){n=t("div");for(var e=0;e<u.length;e+=1)u[e].c();o=k(),b&&b.c(),a=y(),this.h()},l(e){n=r(e,"DIV",{class:!0},!1);for(var t=l(n),c=0;c<u.length;c+=1)u[c].l(t);t.forEach(i),o=s(e,"\n        "),b&&b.l(e),a=y(),this.h()},h(){c(n,"class","tabs")},m(e,t){m(e,n,t);for(var r=0;r<u.length;r+=1)u[r].m(n,null);m(e,o,t),b&&b.m(e,t),m(e,a,t),f=!0},p(e,o){if(e.tokens){d=o.tokens;for(var t=0;t<d.length;t+=1){const a=j(o,d,t);u[t]?(u[t].p(e,a),g(u[t],1)):(u[t]=O(a),u[t].c(),g(u[t],1),u[t].m(n,null))}for(T(),t=d.length;t<u.length;t+=1)$(t);p()}void 0!==o.tokens.filter(o.func)[0]&&null!=o.token.power?b?(b.p(e,o),g(b,1)):((b=V(o)).c(),g(b,1),b.m(a.parentNode,a)):b&&(T(),v(b,1,()=>{b=null}),p())},i(e){if(!f){for(var n=0;n<d.length;n+=1)g(u[n]);g(b),f=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)v(u[e]);v(b),f=!1},d(e){e&&i(n),w(u,e),e&&i(o),b&&b.d(e),e&&i(a)}}}function I(e){var n,o;return{c(){n=t("h2"),o=a("No Tokens Loaded")},l(e){n=r(e,"H2",{},!1);var t=l(n);o=s(t,"No Tokens Loaded"),t.forEach(i)},m(e,t){m(e,n,t),d(n,o)},p:E,i:E,o:E,d(e){e&&i(n)}}}function O(e){var n,o=new L({props:{name:e.temp_token.name,color:e.temp_token.color,id:e.temp_token.id}});return o.$on("opentoken",e.openToken),{c(){o.$$.fragment.c()},l(e){o.$$.fragment.l(e)},m(e,t){u(o,e,t),n=!0},p(e,n){var t={};e.tokens&&(t.name=n.temp_token.name),e.tokens&&(t.color=n.temp_token.color),e.tokens&&(t.id=n.temp_token.id),o.$set(t)},i(e){n||(g(o.$$.fragment,e),n=!0)},o(e){v(o.$$.fragment,e),n=!1},d(e){$(o,e)}}}function V(e){var n,o,a=new D({props:{name:e.token.name,color:e.token.color,power:e.token.power,tough:e.token.tough,ability:e.token.ability,id:e.token.id}});return a.$on("removetoken",e.removeToken),{c(){n=t("div"),a.$$.fragment.c(),this.h()},l(e){n=r(e,"DIV",{class:!0},!1);var o=l(n);a.$$.fragment.l(o),o.forEach(i),this.h()},h(){c(n,"class","tabcontent")},m(e,t){m(e,n,t),u(a,n,null),o=!0},p(e,n){var o={};e.token&&(o.name=n.token.name),e.token&&(o.color=n.token.color),e.token&&(o.power=n.token.power),e.token&&(o.tough=n.token.tough),e.token&&(o.ability=n.token.ability),e.token&&(o.id=n.token.id),a.$set(o)},i(e){o||(g(a.$$.fragment,e),o=!0)},o(e){v(a.$$.fragment,e),o=!1},d(e){e&&i(n),$(a)}}}function H(e){var n,o,y,w,E,_,D,L,j,O,V,H,S,U,x,A,X,q,z,C,K=e.life>0&&B(e),M=new N({});M.$on("addtoken",e.addToken);var F=[I,P],G=[];function J(e){return e.tokens.length<1?0:1}return X=J(e),q=G[X]=F[X](e),{c(){n=t("div"),o=t("h1"),y=a(e.name),w=k(),E=t("h3"),_=a(e.life),D=k(),L=t("button"),j=a("+1"),O=k(),K&&K.c(),V=k(),H=t("button"),S=a("X"),U=k(),x=t("div"),M.$$.fragment.c(),A=k(),q.c(),this.h()},l(t){n=r(t,"DIV",{class:!0},!1);var a=l(n);o=r(a,"H1",{},!1);var c=l(o);y=s(c,e.name),c.forEach(i),w=s(a,"\n    "),E=r(a,"H3",{},!1);var f=l(E);_=s(f,e.life),f.forEach(i),D=s(a,"\n    "),L=r(a,"BUTTON",{class:!0},!1);var m=l(L);j=s(m,"+1"),m.forEach(i),O=s(a,"\n    "),K&&K.l(a),V=s(a,"\n    "),H=r(a,"BUTTON",{class:!0},!1);var d=l(H);S=s(d,"X"),d.forEach(i),U=s(a," \n    "),x=r(a,"DIV",{class:!0},!1);var k=l(x);M.$$.fragment.l(k),k.forEach(i),A=s(a,"\n    "),q.l(a),a.forEach(i),this.h()},h(){c(L,"class","btn btn-success"),c(H,"class","btn btn-danger btn-sm"),c(x,"class","container"),c(n,"class","card"),C=[f(L,"click",e.addLife),f(H,"click",e.onDelete)]},m(e,t){m(e,n,t),d(n,o),d(o,y),d(n,w),d(n,E),d(E,_),d(n,D),d(n,L),d(L,j),d(n,O),K&&K.m(n,null),d(n,V),d(n,H),d(H,S),d(n,U),d(n,x),u(M,x,null),d(n,A),G[X].m(n,null),z=!0},p(e,o){z&&!e.name||h(y,o.name),z&&!e.life||h(_,o.life),o.life>0?K||((K=B(o)).c(),K.m(n,V)):K&&(K.d(1),K=null);var t=X;(X=J(o))===t?G[X].p(e,o):(T(),v(G[t],1,()=>{G[t]=null}),p(),(q=G[X])||(q=G[X]=F[X](o)).c(),g(q,1),q.m(n,null))},i(e){z||(g(M.$$.fragment,e),g(q),z=!0)},o(e){v(M.$$.fragment,e),v(q),z=!1},d(e){e&&i(n),K&&K.d(),$(M),G[X].d(),b(C)}}}function S(e,n,o){const t=_();let{name:a,life:r}=n;var l=()=>Math.random().toString(36).substr(2),s=()=>l()+l();let i=[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",id:0}],c=i[0];let{savePlayer:f={e_name:a,e_life:r,e_tokens:i,e_matchID:s()}}=n;return e.$set=(e=>{"name"in e&&o("name",a=e.name),"life"in e&&o("life",r=e.life),"savePlayer"in e&&o("savePlayer",f=e.savePlayer)}),{name:a,life:r,addLife:()=>{const e=r+=1;return o("life",r),e},subLife:()=>{const e=r-=1;return o("life",r),e},onDelete:()=>t("removeplayer",a),tokens:i,token:c,addToken:e=>{console.log(e.detail[0]);for(var n=0;n<e.detail[1];n++){var t=e.detail[0];o("tokens",i=[...i,{name:t.name,color:t.color,power:t.power,tough:t.tough,ability:t.ability,id:s()}]),console.log(i)}},removeToken:e=>{o("tokens",i=i.filter(n=>n.id!==e.detail))},openToken:e=>{o("token",c=i.filter(n=>n.id===e.detail)[0]),console.log(c)},savePlayer:f,func:function(e){return e.id===c.id}}}export default class extends e{constructor(e){super(),n(this,e,S,H,o,["name","life","savePlayer"])}}
//# sourceMappingURL=player.e87ac8ef.js.map
