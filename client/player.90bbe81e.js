import{S as e,i as n,s as t,e as o,t as a,c as r,b as l,d as s,f as i,g as c,C as f,h as d,j as m,a as k,m as u,u as p,q as h,A as v,p as g,r as $,D as b,z as T,v as y,B as w,n as E,E as _}from"./chunk.f3d239d6.js";import D from"./token.98df725b.js";import N from"./addToken.dc3d473c.js";import L from"./tabLink.f7b51523.js";function j(e,n,t){const o=Object.create(e);return o.temp_token=n[t],o}function B(e){var n,t,k;return{c(){n=o("button"),t=a("-1"),this.h()},l(e){n=r(e,"BUTTON",{class:!0},!1);var o=l(n);t=s(o,"-1"),o.forEach(i),this.h()},h(){c(n,"class","btn btn-dark"),k=f(n,"click",e.subLife)},m(e,o){d(e,n,o),m(n,t)},d(e){e&&i(n),k()}}}function P(e){for(var n,t,a,f,m=e.tokens,u=[],p=0;p<m.length;p+=1)u[p]=O(j(e,m,p));const $=e=>h(u[e],1,()=>{u[e]=null});var b=void 0!==e.tokens.filter(e.func)[0]&&null!=e.token.power&&V(e);return{c(){n=o("div");for(var e=0;e<u.length;e+=1)u[e].c();t=k(),b&&b.c(),a=y(),this.h()},l(e){n=r(e,"DIV",{class:!0},!1);for(var o=l(n),c=0;c<u.length;c+=1)u[c].l(o);o.forEach(i),t=s(e,"\n        "),b&&b.l(e),a=y(),this.h()},h(){c(n,"class","tabs")},m(e,o){d(e,n,o);for(var r=0;r<u.length;r+=1)u[r].m(n,null);d(e,t,o),b&&b.m(e,o),d(e,a,o),f=!0},p(e,t){if(e.tokens){m=t.tokens;for(var o=0;o<m.length;o+=1){const a=j(t,m,o);u[o]?(u[o].p(e,a),g(u[o],1)):(u[o]=O(a),u[o].c(),g(u[o],1),u[o].m(n,null))}for(T(),o=m.length;o<u.length;o+=1)$(o);v()}void 0!==t.tokens.filter(t.func)[0]&&null!=t.token.power?b?(b.p(e,t),g(b,1)):((b=V(t)).c(),g(b,1),b.m(a.parentNode,a)):b&&(T(),h(b,1,()=>{b=null}),v())},i(e){if(!f){for(var n=0;n<m.length;n+=1)g(u[n]);g(b),f=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)h(u[e]);h(b),f=!1},d(e){e&&i(n),w(u,e),e&&i(t),b&&b.d(e),e&&i(a)}}}function I(e){var n,t;return{c(){n=o("h2"),t=a("No Tokens Loaded")},l(e){n=r(e,"H2",{},!1);var o=l(n);t=s(o,"No Tokens Loaded"),o.forEach(i)},m(e,o){d(e,n,o),m(n,t)},p:E,i:E,o:E,d(e){e&&i(n)}}}function O(e){var n,t=new L({props:{name:e.temp_token.name,color:e.temp_token.color,id:e.temp_token.id}});return t.$on("opentoken",e.openToken),{c(){t.$$.fragment.c()},l(e){t.$$.fragment.l(e)},m(e,o){u(t,e,o),n=!0},p(e,n){var o={};e.tokens&&(o.name=n.temp_token.name),e.tokens&&(o.color=n.temp_token.color),e.tokens&&(o.id=n.temp_token.id),t.$set(o)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){h(t.$$.fragment,e),n=!1},d(e){$(t,e)}}}function V(e){var n,t,a=new D({props:{name:e.token.name,color:e.token.color,power:e.token.power,tough:e.token.tough,ability:e.token.ability,tapped:e.token.tapped,id:e.token.id}});return a.$on("removetoken",e.removeToken),a.$on("update",e.updateToken),{c(){n=o("div"),a.$$.fragment.c(),this.h()},l(e){n=r(e,"DIV",{class:!0},!1);var t=l(n);a.$$.fragment.l(t),t.forEach(i),this.h()},h(){c(n,"class","tabcontent")},m(e,o){d(e,n,o),u(a,n,null),t=!0},p(e,n){var t={};e.token&&(t.name=n.token.name),e.token&&(t.color=n.token.color),e.token&&(t.power=n.token.power),e.token&&(t.tough=n.token.tough),e.token&&(t.ability=n.token.ability),e.token&&(t.tapped=n.token.tapped),e.token&&(t.id=n.token.id),a.$set(t)},i(e){t||(g(a.$$.fragment,e),t=!0)},o(e){h(a.$$.fragment,e),t=!1},d(e){e&&i(n),$(a)}}}function H(e){var n,t,y,w,E,_,D,L,j,O,V,H,S,U,x,A,X,q,z,C,K=e.life>0&&B(e),M=new N({});M.$on("addtoken",e.addToken);var F=[I,P],G=[];function J(e){return e.tokens.length<1?0:1}return X=J(e),q=G[X]=F[X](e),{c(){n=o("div"),t=o("h1"),y=a(e.name),w=k(),E=o("h3"),_=a(e.life),D=k(),L=o("button"),j=a("+1"),O=k(),K&&K.c(),V=k(),H=o("button"),S=a("X"),U=k(),x=o("div"),M.$$.fragment.c(),A=k(),q.c(),this.h()},l(o){n=r(o,"DIV",{class:!0},!1);var a=l(n);t=r(a,"H1",{},!1);var c=l(t);y=s(c,e.name),c.forEach(i),w=s(a,"\n    "),E=r(a,"H3",{},!1);var f=l(E);_=s(f,e.life),f.forEach(i),D=s(a,"\n    "),L=r(a,"BUTTON",{class:!0},!1);var d=l(L);j=s(d,"+1"),d.forEach(i),O=s(a,"\n    "),K&&K.l(a),V=s(a,"\n    "),H=r(a,"BUTTON",{class:!0},!1);var m=l(H);S=s(m,"X"),m.forEach(i),U=s(a," \n    "),x=r(a,"DIV",{class:!0},!1);var k=l(x);M.$$.fragment.l(k),k.forEach(i),A=s(a,"\n    "),q.l(a),a.forEach(i),this.h()},h(){c(L,"class","btn btn-success"),c(H,"class","btn btn-danger btn-sm"),c(x,"class","container"),c(n,"class","card"),C=[f(L,"click",e.addLife),f(H,"click",e.onDelete)]},m(e,o){d(e,n,o),m(n,t),m(t,y),m(n,w),m(n,E),m(E,_),m(n,D),m(n,L),m(L,j),m(n,O),K&&K.m(n,null),m(n,V),m(n,H),m(H,S),m(n,U),m(n,x),u(M,x,null),m(n,A),G[X].m(n,null),z=!0},p(e,t){z&&!e.name||p(y,t.name),z&&!e.life||p(_,t.life),t.life>0?K||((K=B(t)).c(),K.m(n,V)):K&&(K.d(1),K=null);var o=X;(X=J(t))===o?G[X].p(e,t):(T(),h(G[o],1,()=>{G[o]=null}),v(),(q=G[X])||(q=G[X]=F[X](t)).c(),g(q,1),q.m(n,null))},i(e){z||(g(M.$$.fragment,e),g(q),z=!0)},o(e){h(M.$$.fragment,e),h(q),z=!1},d(e){e&&i(n),K&&K.d(),$(M),G[X].d(),b(C)}}}function S(e,n,t){const o=_();let{name:a,life:r}=n;var l=()=>Math.random().toString(36).substr(2),s=()=>l()+l();let i=[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:0}],c=i[0];let{savePlayer:f={e_name:a,e_life:r,e_tokens:i,e_matchID:s()}}=n;return e.$set=(e=>{"name"in e&&t("name",a=e.name),"life"in e&&t("life",r=e.life),"savePlayer"in e&&t("savePlayer",f=e.savePlayer)}),{name:a,life:r,addLife:()=>{const e=r+=1;return t("life",r),e},subLife:()=>{const e=r-=1;return t("life",r),e},onDelete:()=>o("removeplayer",a),tokens:i,token:c,addToken:e=>{console.log(e.detail[0]);for(var n=0;n<e.detail[1];n++){var o=e.detail[0];t("tokens",i=[...i,{name:o.name,color:o.color,power:o.power,tough:o.tough,ability:o.ability,tapped:o.tapped,id:s()}]),console.log(i)}},removeToken:e=>{t("tokens",i=i.filter(n=>n.id!==e.detail))},openToken:e=>{t("token",c=i.filter(n=>n.id===e.detail)[0])},updateToken:e=>{var n=i.length;t("token",c=e.detail);for(var o=0;o<n;o++)for(var a in i[o])if(i[o][a]===c.id){console.log(c),i.splice(o,1,c),console.log(i);break}},savePlayer:f,func:function(e){return e.id===c.id}}}export default class extends e{constructor(e){super(),n(this,e,S,H,t,["name","life","savePlayer"])}}
//# sourceMappingURL=player.90bbe81e.js.map
