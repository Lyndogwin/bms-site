import{S as t,i as e,s as n,e as o,t as a,b as l,f as r,g as s,d as c,h as i,j as f,k as d,p as h,n as m,a as u,A as p,c as g,B as $,C as b,l as v,D as k,E as w,F as E,G as T,r as y,u as N,H as j,I as B,m as D}from"./client.69a2eb4c.js";import I from"./token.3f7cfc9c.js";import H from"./addToken.2cba3b0b.js";import V from"./tabLink.26dfcd55.js";function L(t,e,n){const o=t.slice();return o[15]=e[n],o}function O(t){let e,n,u;return{c(){e=o("button"),n=a("-1"),this.h()},l(t){e=l(t,"BUTTON",{class:!0});var o=r(e);n=s(o,"-1"),o.forEach(c),this.h()},h(){i(e,"class","btn btn-dark")},m(o,a){f(o,e,a),d(e,n),u=h(e,"click",t[5])},p:m,d(t){t&&c(e),u()}}}function U(t){let e,n,a,s,d=void 0!==t[1].filter(t[14])[0]&&null!=t[3].power,h=t[1],m=[];for(let e=0;e<h.length;e+=1)m[e]=S(L(t,h,e));const p=t=>k(m[t],1,1,()=>{m[t]=null});let $=d&&X(t);return{c(){e=o("div");for(let t=0;t<m.length;t+=1)m[t].c();n=u(),$&&$.c(),a=B(),this.h()},l(t){e=l(t,"DIV",{class:!0});var o=r(e);for(let t=0;t<m.length;t+=1)m[t].l(o);o.forEach(c),n=g(t),$&&$.l(t),a=B(),this.h()},h(){i(e,"class","tabs")},m(t,o){f(t,e,o);for(let t=0;t<m.length;t+=1)m[t].m(e,null);f(t,n,o),$&&$.m(t,o),f(t,a,o),s=!0},p(t,n){if(514&n){let o;for(h=t[1],o=0;o<h.length;o+=1){const a=L(t,h,o);m[o]?(m[o].p(a,n),E(m[o],1)):(m[o]=S(a),m[o].c(),E(m[o],1),m[o].m(e,null))}for(j(),o=h.length;o<m.length;o+=1)p(o);w()}10&n&&(d=void 0!==t[1].filter(t[14])[0]&&null!=t[3].power),d?$?($.p(t,n),E($,1)):($=X(t),$.c(),E($,1),$.m(a.parentNode,a)):$&&(j(),k($,1,1,()=>{$=null}),w())},i(t){if(!s){for(let t=0;t<h.length;t+=1)E(m[t]);E($),s=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)k(m[t]);k($),s=!1},d(t){t&&c(e),D(m,t),t&&c(n),$&&$.d(t),t&&c(a)}}}function x(t){let e,n;return{c(){e=o("h2"),n=a("No Tokens Loaded")},l(t){e=l(t,"H2",{});var o=r(e);n=s(o,"No Tokens Loaded"),o.forEach(c)},m(t,o){f(t,e,o),d(e,n)},p:m,i:m,o:m,d(t){t&&c(e)}}}function S(t){let e;const n=new V({props:{name:t[15].name,color:t[15].color,id:t[15].id}});return n.$on("opentoken",t[9]),{c(){p(n.$$.fragment)},l(t){$(n.$$.fragment,t)},m(t,o){b(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.name=t[15].name),2&e&&(o.color=t[15].color),2&e&&(o.id=t[15].id),n.$set(o)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){k(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function X(t){let e,n;const a=new I({props:{name:t[3].name,color:t[3].color,power:t[3].power,tough:t[3].tough,ability:t[3].ability,tapped:t[3].tapped,id:t[3].id}});return a.$on("removetoken",t[8]),a.$on("update",t[10]),{c(){e=o("div"),p(a.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var n=r(e);$(a.$$.fragment,n),n.forEach(c),this.h()},h(){i(e,"class","tabcontent")},m(t,o){f(t,e,o),b(a,e,null),n=!0},p(t,e){const n={};8&e&&(n.name=t[3].name),8&e&&(n.color=t[3].color),8&e&&(n.power=t[3].power),8&e&&(n.tough=t[3].tough),8&e&&(n.ability=t[3].ability),8&e&&(n.tapped=t[3].tapped),8&e&&(n.id=t[3].id),a.$set(n)},i(t){n||(E(a.$$.fragment,t),n=!0)},o(t){k(a.$$.fragment,t),n=!1},d(t){t&&c(e),T(a)}}}function A(t){let e,n,m,N,B,D,I,V,L,S,X,A,C,F,G,M,q,z,J,K,P=t[0]>0&&O(t);const Q=new H({});Q.$on("addtoken",t[7]);const R=[x,U],W=[];function Y(t,e){return t[1].length<1?0:1}return q=Y(t),z=W[q]=R[q](t),{c(){e=o("div"),n=o("h1"),m=a(t[2]),N=u(),B=o("h3"),D=a(t[0]),I=u(),V=o("button"),L=a("+1"),S=u(),P&&P.c(),X=u(),A=o("button"),C=a("X"),F=u(),G=o("div"),p(Q.$$.fragment),M=u(),z.c(),this.h()},l(o){e=l(o,"DIV",{class:!0});var a=r(e);n=l(a,"H1",{});var i=r(n);m=s(i,t[2]),i.forEach(c),N=g(a),B=l(a,"H3",{});var f=r(B);D=s(f,t[0]),f.forEach(c),I=g(a),V=l(a,"BUTTON",{class:!0});var d=r(V);L=s(d,"+1"),d.forEach(c),S=g(a),P&&P.l(a),X=g(a),A=l(a,"BUTTON",{class:!0});var h=r(A);C=s(h,"X"),h.forEach(c),F=g(a),G=l(a,"DIV",{class:!0});var u=r(G);$(Q.$$.fragment,u),u.forEach(c),M=g(a),z.l(a),a.forEach(c),this.h()},h(){i(V,"class","btn btn-success"),i(A,"class","btn btn-danger btn-sm"),i(G,"class","container"),i(e,"class","card")},m(o,a){f(o,e,a),d(e,n),d(n,m),d(e,N),d(e,B),d(B,D),d(e,I),d(e,V),d(V,L),d(e,S),P&&P.m(e,null),d(e,X),d(e,A),d(A,C),d(e,F),d(e,G),b(Q,G,null),d(e,M),W[q].m(e,null),J=!0,K=[h(V,"click",t[4]),h(A,"click",t[6])]},p(t,[n]){(!J||4&n)&&v(m,t[2]),(!J||1&n)&&v(D,t[0]),t[0]>0?P?P.p(t,n):(P=O(t),P.c(),P.m(e,X)):P&&(P.d(1),P=null);let o=q;q=Y(t),q===o?W[q].p(t,n):(j(),k(W[o],1,1,()=>{W[o]=null}),w(),z=W[q],z||(z=W[q]=R[q](t),z.c()),E(z,1),z.m(e,null))},i(t){J||(E(Q.$$.fragment,t),E(z),J=!0)},o(t){k(Q.$$.fragment,t),k(z),J=!1},d(t){t&&c(e),P&&P.d(),T(Q),W[q].d(),y(K)}}}function C(t,e,n){const o=N();let{name:a}=e,{life:l}=e;var r=()=>Math.random().toString(36).substr(2),s=()=>r()+r();let{tokens:c}=e,i=c[0];return t.$set=t=>{"name"in t&&n(2,a=t.name),"life"in t&&n(0,l=t.life),"tokens"in t&&n(1,c=t.tokens)},[l,c,a,i,()=>n(0,l+=1),()=>n(0,l-=1),()=>o("removeplayer",a),t=>{console.log(t.detail[0]);for(var e=0;e<t.detail[1];e++){var o=t.detail[0];n(1,c=[...c,{name:o.name,color:o.color,power:o.power,tough:o.tough,ability:o.ability,tapped:o.tapped,id:s()}]),console.log(c)}},t=>{n(1,c=c.filter(e=>e.id!==t.detail))},t=>{n(3,i=c.filter(e=>e.id===t.detail)[0])},t=>{var e=c.length;n(3,i=t.detail);for(var o=0;o<e;o++)for(var a in c[o])if(c[o][a]===i.id){console.log(i),c.splice(o,1,i),console.log(c);break}},o,r,s,t=>t.id===i.id]}export default class extends t{constructor(t){super(),e(this,t,C,A,n,{name:2,life:0,tokens:1})}}
