import{S as t,i as n,s as e,e as a,t as o,b as l,f as r,g as s,d as i,h as c,j as d,k as f,p as h,n as m,a as u,A as p,c as g,B as $,C as b,l as v,D as k,E as w,F as E,G as T,r as y,u as N,H as j,I as B,m as D}from"./client.9a7e597a.js";import I from"./token.3f96f150.js";import H from"./addToken.342dd87b.js";import V from"./tabLink.baa5cd0a.js";function _(t,n,e){const a=t.slice();return a[15]=n[e],a}function L(t){let n,e,u;return{c(){n=a("button"),e=o("-1"),this.h()},l(t){n=l(t,"BUTTON",{class:!0});var a=r(n);e=s(a,"-1"),a.forEach(i),this.h()},h(){c(n,"class","btn btn-dark")},m(a,o){d(a,n,o),f(n,e),u=h(n,"click",t[5])},p:m,d(t){t&&i(n),u()}}}function O(t){let n,e,o,s,f=void 0!==t[1].filter(t[14])[0]&&null!=t[3].power,h=t[1],m=[];for(let n=0;n<h.length;n+=1)m[n]=x(_(t,h,n));const p=t=>k(m[t],1,1,()=>{m[t]=null});let $=f&&S(t);return{c(){n=a("div");for(let t=0;t<m.length;t+=1)m[t].c();e=u(),$&&$.c(),o=B(),this.h()},l(t){n=l(t,"DIV",{class:!0});var a=r(n);for(let t=0;t<m.length;t+=1)m[t].l(a);a.forEach(i),e=g(t),$&&$.l(t),o=B(),this.h()},h(){c(n,"class","tabs")},m(t,a){d(t,n,a);for(let t=0;t<m.length;t+=1)m[t].m(n,null);d(t,e,a),$&&$.m(t,a),d(t,o,a),s=!0},p(t,e){if(514&e){let a;for(h=t[1],a=0;a<h.length;a+=1){const o=_(t,h,a);m[a]?(m[a].p(o,e),E(m[a],1)):(m[a]=x(o),m[a].c(),E(m[a],1),m[a].m(n,null))}for(j(),a=h.length;a<m.length;a+=1)p(a);w()}10&e&&(f=void 0!==t[1].filter(t[14])[0]&&null!=t[3].power),f?$?($.p(t,e),E($,1)):($=S(t),$.c(),E($,1),$.m(o.parentNode,o)):$&&(j(),k($,1,1,()=>{$=null}),w())},i(t){if(!s){for(let t=0;t<h.length;t+=1)E(m[t]);E($),s=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)k(m[t]);k($),s=!1},d(t){t&&i(n),D(m,t),t&&i(e),$&&$.d(t),t&&i(o)}}}function U(t){let n,e;return{c(){n=a("h2"),e=o("No Tokens Loaded")},l(t){n=l(t,"H2",{});var a=r(n);e=s(a,"No Tokens Loaded"),a.forEach(i)},m(t,a){d(t,n,a),f(n,e)},p:m,i:m,o:m,d(t){t&&i(n)}}}function x(t){let n;const e=new V({props:{name:t[15].name,color:t[15].color,id:t[15].id}});return e.$on("opentoken",t[9]),{c(){p(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,a){b(e,t,a),n=!0},p(t,n){const a={};2&n&&(a.name=t[15].name),2&n&&(a.color=t[15].color),2&n&&(a.id=t[15].id),e.$set(a)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function S(t){let n,e;const o=new I({props:{name:t[3].name,color:t[3].color,power:t[3].power,tough:t[3].tough,ability:t[3].ability,tapped:t[3].tapped,id:t[3].id}});return o.$on("removetoken",t[8]),o.$on("update",t[10]),{c(){n=a("div"),p(o.$$.fragment),this.h()},l(t){n=l(t,"DIV",{class:!0});var e=r(n);$(o.$$.fragment,e),e.forEach(i),this.h()},h(){c(n,"class","tabcontent")},m(t,a){d(t,n,a),b(o,n,null),e=!0},p(t,n){const e={};8&n&&(e.name=t[3].name),8&n&&(e.color=t[3].color),8&n&&(e.power=t[3].power),8&n&&(e.tough=t[3].tough),8&n&&(e.ability=t[3].ability),8&n&&(e.tapped=t[3].tapped),8&n&&(e.id=t[3].id),o.$set(e)},i(t){e||(E(o.$$.fragment,t),e=!0)},o(t){k(o.$$.fragment,t),e=!1},d(t){t&&i(n),T(o)}}}function X(t){let n,e,m,N,B,D,I,V,_,x,S,X,A,C,F,G,M,q,z,J,K=t[0]>0&&L(t);const P=new H({});P.$on("addtoken",t[7]);const Q=[U,O],R=[];function W(t,n){return t[1].length<1?0:1}return M=W(t),q=R[M]=Q[M](t),{c(){n=a("div"),e=a("h1"),m=o(t[2]),N=u(),B=a("h3"),D=o(t[0]),I=u(),V=a("button"),_=o("+1"),x=u(),K&&K.c(),S=u(),X=a("button"),A=o("X"),C=u(),F=a("div"),p(P.$$.fragment),G=u(),q.c(),this.h()},l(a){n=l(a,"DIV",{class:!0});var o=r(n);e=l(o,"H1",{});var c=r(e);m=s(c,t[2]),c.forEach(i),N=g(o),B=l(o,"H3",{});var d=r(B);D=s(d,t[0]),d.forEach(i),I=g(o),V=l(o,"BUTTON",{class:!0});var f=r(V);_=s(f,"+1"),f.forEach(i),x=g(o),K&&K.l(o),S=g(o),X=l(o,"BUTTON",{class:!0});var h=r(X);A=s(h,"X"),h.forEach(i),C=g(o),F=l(o,"DIV",{class:!0});var u=r(F);$(P.$$.fragment,u),u.forEach(i),G=g(o),q.l(o),o.forEach(i),this.h()},h(){c(V,"class","btn btn-success"),c(X,"class","btn btn-danger btn-sm"),c(F,"class","container"),c(n,"class","card")},m(a,o){d(a,n,o),f(n,e),f(e,m),f(n,N),f(n,B),f(B,D),f(n,I),f(n,V),f(V,_),f(n,x),K&&K.m(n,null),f(n,S),f(n,X),f(X,A),f(n,C),f(n,F),b(P,F,null),f(n,G),R[M].m(n,null),z=!0,J=[h(V,"click",t[4]),h(X,"click",t[6])]},p(t,[e]){(!z||4&e)&&v(m,t[2]),(!z||1&e)&&v(D,t[0]),t[0]>0?K?K.p(t,e):(K=L(t),K.c(),K.m(n,S)):K&&(K.d(1),K=null);let a=M;M=W(t),M===a?R[M].p(t,e):(j(),k(R[a],1,1,()=>{R[a]=null}),w(),q=R[M],q||(q=R[M]=Q[M](t),q.c()),E(q,1),q.m(n,null))},i(t){z||(E(P.$$.fragment,t),E(q),z=!0)},o(t){k(P.$$.fragment,t),k(q),z=!1},d(t){t&&i(n),K&&K.d(),T(P),R[M].d(),y(J)}}}function A(t,n,e){const a=N();let{name:o}=n,{life:l}=n;let{rand:r=(()=>Math.random().toString(36).substr(2))}=n,{id_gen:s=(()=>r()+r())}=n,{tokens:i}=n,c=i[0];return t.$set=t=>{"name"in t&&e(2,o=t.name),"life"in t&&e(0,l=t.life),"rand"in t&&e(11,r=t.rand),"id_gen"in t&&e(12,s=t.id_gen),"tokens"in t&&e(1,i=t.tokens)},[l,i,o,c,()=>e(0,l+=1),()=>e(0,l-=1),()=>a("removeplayer",o),t=>{console.log(t.detail[0]);for(var n=0;n<t.detail[1];n++){var a=t.detail[0];e(1,i=[...i,{name:a.name,color:a.color,power:a.power,tough:a.tough,ability:a.ability,tapped:a.tapped,id:s()}])}},t=>{e(1,i=i.filter(n=>n.id!==t.detail))},t=>{e(3,c=i.filter(n=>n.id===t.detail)[0])},t=>{var n=i.length;e(3,c=t.detail);for(var a=0;a<n;a++)for(var o in i[a])if(i[a][o]===c.id){console.log(c),i.splice(a,1,c),console.log(i);break}},r,s,a,t=>t.id===c.id]}export default class extends t{constructor(t){super(),n(this,t,A,X,e,{name:2,life:0,rand:11,id_gen:12,tokens:1})}}
