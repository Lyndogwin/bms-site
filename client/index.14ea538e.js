import{S as e,i as t,s as a,e as n,A as l,a as o,t as s,b as r,f as c,B as i,d as m,c as f,g,h as d,j as p,C as u,k as h,p as $,D as v,E as y,F as b,G as k,r as N,H as S,I as E,m as T,n as j}from"./client.7d1f5eb0.js";import"./token.ad919630.js";import"./addToken.8688d748.js";import"./tabLink.e9db0e04.js";import I from"./player.7d75532a.js";import{N as B,i as O}from"./addPlayer.16949c09.js";function P(e,t,a){const n=e.slice();return n[5]=t[a],n}function w(e){let t,a,n=e[0],l=[];for(let t=0;t<n.length;t+=1)l[t]=D(P(e,n,t));const o=e=>v(l[e],1,1,()=>{l[e]=null});return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=E()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=E()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);p(e,t,n),a=!0},p(e,a){if(5&a){let s;for(n=e[0],s=0;s<n.length;s+=1){const o=P(e,n,s);l[s]?(l[s].p(o,a),b(l[s],1)):(l[s]=D(o),l[s].c(),b(l[s],1),l[s].m(t.parentNode,t))}for(S(),s=n.length;s<l.length;s+=1)o(s);y()}},i(e){if(!a){for(let e=0;e<n.length;e+=1)b(l[e]);a=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)v(l[e]);a=!1},d(e){T(l,e),e&&m(t)}}}function A(e){let t,a;return{c(){t=n("h1"),a=s("No Players")},l(e){t=r(e,"H1",{});var n=c(t);a=g(n,"No Players"),n.forEach(m)},m(e,n){p(e,t,n),h(t,a)},p:j,i:j,o:j,d(e){e&&m(t)}}}function D(e){let t;const a=new I({props:{name:e[5].name,life:e[5].life,tokens:e[5].tokens}});return a.$on("removeplayer",e[2]),{c(){l(a.$$.fragment)},l(e){i(a.$$.fragment,e)},m(e,n){u(a,e,n),t=!0},p(e,t){const n={};1&t&&(n.name=e[5].name),1&t&&(n.life=e[5].life),1&t&&(n.tokens=e[5].tokens),a.$set(n)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){v(a.$$.fragment,e),t=!1},d(e){k(a,e)}}}function L(e){let t,a,E,T,j,I,O,P,D,L,V,x,H,J;const K=new B({});K.$on("addplayer",e[1]);const U=[A,w],C=[];function F(e,t){return 0===e[0].length?0:1}return T=F(e),j=C[T]=U[T](e),{c(){t=n("div"),l(K.$$.fragment),a=o(),E=n("div"),j.c(),I=o(),O=n("div"),P=n("button"),D=s("Save game"),L=o(),V=n("button"),x=s("Load game"),this.h()},l(e){t=r(e,"DIV",{class:!0});var n=c(t);i(K.$$.fragment,n),n.forEach(m),a=f(e),E=r(e,"DIV",{class:!0});var l=c(E);j.l(l),l.forEach(m),I=f(e),O=r(e,"DIV",{});var o=c(O);P=r(o,"BUTTON",{class:!0});var s=c(P);D=g(s,"Save game"),s.forEach(m),L=f(o),V=r(o,"BUTTON",{class:!0});var d=c(V);x=g(d,"Load game"),d.forEach(m),o.forEach(m),this.h()},h(){d(t,"class","container"),d(E,"class","container"),d(P,"class","btn btn-primary"),d(V,"class","btn btn-primary")},m(n,l){p(n,t,l),u(K,t,null),p(n,a,l),p(n,E,l),C[T].m(E,null),p(n,I,l),p(n,O,l),h(O,P),h(P,D),h(O,L),h(O,V),h(V,x),H=!0,J=[$(P,"click",e[3]),$(V,"click",e[4])]},p(e,[t]){let a=T;T=F(e),T===a?C[T].p(e,t):(S(),v(C[a],1,1,()=>{C[a]=null}),y(),j=C[T],j||(j=C[T]=U[T](e),j.c()),b(j,1),j.m(E,null))},i(e){H||(b(K.$$.fragment,e),b(j),H=!0)},o(e){v(K.$$.fragment,e),v(j),H=!1},d(e){e&&m(t),k(K),e&&m(a),e&&m(E),C[T].d(),e&&m(I),e&&m(O),N(J)}}}function V(e,t,a){let n=[{name:"Player1",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:O()}]},{name:"Player2",life:20,tokens:[{name:"TOKEN TABS: ",color:"",power:null,tough:null,ability:"None",tapped:!1,id:O()}]}];return[n,e=>{const t=e.detail;a(0,n=[...n,t]),a(0,n[n.length-1].id=O(),n),console.log(O())},e=>{a(0,n=n.filter(t=>t.name!==e.detail))},()=>{console.log("Saving game");let e=JSON.stringify(n);localStorage.setItem("state",e)},()=>{if(localStorage.getItem("state")){console.log("Attempting to load game");let e=localStorage.getItem("state");a(0,n=JSON.parse(e))}}]}export default class extends e{constructor(e){super(),t(this,e,V,L,a,{})}}
