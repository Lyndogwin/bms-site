import{S as e,i as n,s as t,e as o,t as a,c as l,b as r,d as s,f as i,h as c,G as f,k,l as d,a as m,g as p,o as u,w as h,u as v,D as g,r as $,v as b,H as T,C as w,x as E,E as y,n as D,I as L}from"./index.62296c73.js";import _ from"./token.1427e603.js";import N from"./addToken.4c42ceeb.js";import j from"./tabLink.d874673c.js";function I(e,n,t){const o=Object.create(e);return o.temp_token=n[t],o}function x(e){var n,t,m;return{c(){n=o("button"),t=a("-1"),this.h()},l(e){n=l(e,"BUTTON",{class:!0},!1);var o=r(n);t=s(o,"-1"),o.forEach(i),this.h()},h(){c(n,"class","btn btn-dark"),m=f(n,"click",e.subLife)},m(e,o){k(e,n,o),d(n,t)},d(e){e&&i(n),m()}}}function B(e){var n,t,a,s,f=void 0!==e.tokens.filter(e.func)[0]&&null!=e.token.power;let d=e.tokens,u=[];for(let n=0;n<d.length;n+=1)u[n]=O(I(e,d,n));const h=e=>v(u[e],1,1,()=>{u[e]=null});var b=f&&V(e);return{c(){n=o("div");for(let e=0;e<u.length;e+=1)u[e].c();t=m(),b&&b.c(),a=E(),this.h()},l(e){n=l(e,"DIV",{class:!0},!1);var o=r(n);for(let e=0;e<u.length;e+=1)u[e].l(o);o.forEach(i),t=p(e),b&&b.l(e),a=E(),this.h()},h(){c(n,"class","tabs")},m(e,o){k(e,n,o);for(let e=0;e<u.length;e+=1)u[e].m(n,null);k(e,t,o),b&&b.m(e,o),k(e,a,o),s=!0},p(e,t){if(e.tokens){let o;for(d=t.tokens,o=0;o<d.length;o+=1){const a=I(t,d,o);u[o]?(u[o].p(e,a),$(u[o],1)):(u[o]=O(a),u[o].c(),$(u[o],1),u[o].m(n,null))}for(w(),o=d.length;o<u.length;o+=1)h(o);g()}(e.tokens||e.token)&&(f=void 0!==t.tokens.filter(t.func)[0]&&null!=t.token.power),f?b?(b.p(e,t),$(b,1)):((b=V(t)).c(),$(b,1),b.m(a.parentNode,a)):b&&(w(),v(b,1,1,()=>{b=null}),g())},i(e){if(!s){for(let e=0;e<d.length;e+=1)$(u[e]);$(b),s=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)v(u[e]);v(b),s=!1},d(e){e&&i(n),y(u,e),e&&i(t),b&&b.d(e),e&&i(a)}}}function H(e){var n,t;return{c(){n=o("h2"),t=a("No Tokens Loaded")},l(e){n=l(e,"H2",{},!1);var o=r(n);t=s(o,"No Tokens Loaded"),o.forEach(i)},m(e,o){k(e,n,o),d(n,t)},p:D,i:D,o:D,d(e){e&&i(n)}}}function O(e){var n,t=new j({props:{name:e.temp_token.name,color:e.temp_token.color,id:e.temp_token.id}});return t.$on("opentoken",e.openToken),{c(){t.$$.fragment.c()},l(e){t.$$.fragment.l(e)},m(e,o){u(t,e,o),n=!0},p(e,n){var o={};e.tokens&&(o.name=n.temp_token.name),e.tokens&&(o.color=n.temp_token.color),e.tokens&&(o.id=n.temp_token.id),t.$set(o)},i(e){n||($(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){b(t,e)}}}function V(e){var n,t,a=new _({props:{name:e.token.name,color:e.token.color,power:e.token.power,tough:e.token.tough,ability:e.token.ability,tapped:e.token.tapped,id:e.token.id}});return a.$on("removetoken",e.removeToken),a.$on("update",e.updateToken),{c(){n=o("div"),a.$$.fragment.c(),this.h()},l(e){n=l(e,"DIV",{class:!0},!1);var t=r(n);a.$$.fragment.l(t),t.forEach(i),this.h()},h(){c(n,"class","tabcontent")},m(e,o){k(e,n,o),u(a,n,null),t=!0},p(e,n){var t={};e.token&&(t.name=n.token.name),e.token&&(t.color=n.token.color),e.token&&(t.power=n.token.power),e.token&&(t.tough=n.token.tough),e.token&&(t.ability=n.token.ability),e.token&&(t.tapped=n.token.tapped),e.token&&(t.id=n.token.id),a.$set(t)},i(e){t||($(a.$$.fragment,e),t=!0)},o(e){v(a.$$.fragment,e),t=!1},d(e){e&&i(n),b(a)}}}function U(e){var n,t,E,y,D,L,_,j,I,O,V,U,S,X,C,G,M,q,z,A,F=e.life>0&&x(e),J=new N({});J.$on("addtoken",e.addToken);var K=[H,B],P=[];function Q(e,n){return n.tokens.length<1?0:1}return M=Q(0,e),q=P[M]=K[M](e),{c(){n=o("div"),t=o("h1"),E=a(e.name),y=m(),D=o("h3"),L=a(e.life),_=m(),j=o("button"),I=a("+1"),O=m(),F&&F.c(),V=m(),U=o("button"),S=a("X"),X=m(),C=o("div"),J.$$.fragment.c(),G=m(),q.c(),this.h()},l(o){n=l(o,"DIV",{class:!0},!1);var a=r(n);t=l(a,"H1",{},!1);var c=r(t);E=s(c,e.name),c.forEach(i),y=p(a),D=l(a,"H3",{},!1);var f=r(D);L=s(f,e.life),f.forEach(i),_=p(a),j=l(a,"BUTTON",{class:!0},!1);var k=r(j);I=s(k,"+1"),k.forEach(i),O=p(a),F&&F.l(a),V=p(a),U=l(a,"BUTTON",{class:!0},!1);var d=r(U);S=s(d,"X"),d.forEach(i),X=p(a),C=l(a,"DIV",{class:!0},!1);var m=r(C);J.$$.fragment.l(m),m.forEach(i),G=p(a),q.l(a),a.forEach(i),this.h()},h(){c(j,"class","btn btn-success"),c(U,"class","btn btn-danger btn-sm"),c(C,"class","container"),c(n,"class","card"),A=[f(j,"click",e.addLife),f(U,"click",e.onDelete)]},m(e,o){k(e,n,o),d(n,t),d(t,E),d(n,y),d(n,D),d(D,L),d(n,_),d(n,j),d(j,I),d(n,O),F&&F.m(n,null),d(n,V),d(n,U),d(U,S),d(n,X),d(n,C),u(J,C,null),d(n,G),P[M].m(n,null),z=!0},p(e,t){z&&!e.name||h(E,t.name),z&&!e.life||h(L,t.life),t.life>0?F||((F=x(t)).c(),F.m(n,V)):F&&(F.d(1),F=null);var o=M;(M=Q(0,t))===o?P[M].p(e,t):(w(),v(P[o],1,1,()=>{P[o]=null}),g(),(q=P[M])||(q=P[M]=K[M](t)).c(),$(q,1),q.m(n,null))},i(e){z||($(J.$$.fragment,e),$(q),z=!0)},o(e){v(J.$$.fragment,e),v(q),z=!1},d(e){e&&i(n),F&&F.d(),b(J),P[M].d(),T(A)}}}function S(e,n,t){const o=L();let{name:a,life:l}=n;var r=()=>Math.random().toString(36).substr(2),s=()=>r()+r();let{tokens:i}=n,c=i[0];return e.$set=(e=>{"name"in e&&t("name",a=e.name),"life"in e&&t("life",l=e.life),"tokens"in e&&t("tokens",i=e.tokens)}),{name:a,life:l,addLife:()=>t("life",l+=1),subLife:()=>t("life",l-=1),onDelete:()=>o("removeplayer",a),tokens:i,token:c,addToken:e=>{console.log(e.detail[0]);for(var n=0;n<e.detail[1];n++){var o=e.detail[0];t("tokens",i=[...i,{name:o.name,color:o.color,power:o.power,tough:o.tough,ability:o.ability,tapped:o.tapped,id:s()}]),console.log(i)}},removeToken:e=>{t("tokens",i=i.filter(n=>n.id!==e.detail))},openToken:e=>{t("token",c=i.filter(n=>n.id===e.detail)[0])},updateToken:e=>{var n=i.length;t("token",c=e.detail);for(var o=0;o<n;o++)for(var a in i[o])if(i[o][a]===c.id){console.log(c),i.splice(o,1,c),console.log(i);break}},func:e=>e.id===c.id}}export default class extends e{constructor(e){super(),n(this,e,S,U,t,["name","life","tokens"])}}
